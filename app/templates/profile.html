{% extends 'base.html' %}

{% block content %}
<div class="profile-container" style="margin-top: 80px;"> 
    <style>
        .title-container {
            width: 100%;
            text-align: left;
        }
        .profile-container {
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center;
            width: 80%;
            max-width: 800px;
            margin: 80px auto 0;
        }
        
        .profile-image img {
            width: 100px; 
            height: 100px; 
            border-radius: 50%; 
            object-fit: cover; 
        }
        .profile-details {
            margin-top: 20px;
        }

        .profile-details p {
            margin: 5px 0;
        }
        .post-list {
            display: flex;
            flex-wrap: wrap; 
            gap: 20px; 
            justify-content: flex-start; 
        }
        .post-item {
            width: 300px; 
            height: 400px; 
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column; 
            justify-content: space-between; 
            text-align: center; 
        }
        .image-wrapper {
            text-align: center; 
        }

        .image-wrapper img {
            max-width: 100%;
            height: auto;
            max-height: 200px; 
            object-fit: cover; 
            border-radius: 8px;
        }
        .post-meta, .post-caption {
            overflow: hidden; 
            text-overflow: ellipsis; 
            white-space: nowrap; 
        }
    </style>
    <div class="full-width-container">
        <div class="title-container">
            <h1>„Éó„É≠„Éï„Ç£„Éº„É´</h1>
        </div>
    </div>
    
    <div class="profile-container">
        

    
    {% load static %}
    <div class="profile-image">
        {% if user_profile.profile_image %}
        <img src="{{ user_profile.profile_image.url }}" alt="„Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè">
        {% else %}
        <img src="{% static 'images/default-profile.png' %}" alt="„Éá„Éï„Ç©„É´„ÉàÁîªÂÉè">
        {% endif %}
    </div>
    

    <div class="profile-details">
        <p>„Ç¢„Ç´„Ç¶„É≥„Éà: {{ user_profile.account_name }}</p>
        <p>ÊÄßÂà•: {{ user_profile.get_gender_display }}</p>
        <p>ÁîüÂπ¥ÊúàÊó•: {{ user_profile.birth_of_date }}</p>
        <p>Ëá™Â∑±Á¥π‰ªã: {{ user_profile.bio }}</p>
    </div>

    {% if request.user == user_profile %}
    <p><a href="{% url 'edit_profile' %}">Á∑®ÈõÜ</a></p>
    {% endif %}

    <!-- „Éû„Ç§„Ç≥„Éº„Éá„Ç£„Éç„Éº„Éà‰∏ÄË¶ß -->
    <h2>„Éû„Ç§„Ç≥„Éº„Éá„Ç£„Éç„Éº„Éà‰∏ÄË¶ß</h2>
    <div class="post-list">
        {% for post in user_posts %}
        <div class="post-item">
            <!-- ÊäïÁ®øÁîªÂÉè -->
            <div class="image-wrapper">
                {% if post.image %}
                    <a href="{% url 'post_detail' post.id %}">
                        <img src="{{ post.image.url }}" alt="{{ post.title }}">
                    </a>
                {% else %}
                    <p>No image available</p>
                {% endif %}
            </div>
            <!-- ÊäïÁ®ø„Çø„Ç§„Éà„É´ -->
            <h3>{{ post.title }}</h3>
            <!-- „ÅÑ„ÅÑ„Å≠Êï∞„Å®„Ç≥„É°„É≥„ÉàÊï∞ -->
            <div class="post-meta">
                <span>‚ô• {{ post.likes_count }}</span>
                <span>üí¨ {{ post.comments_count }}</span>
            </div>
        </div>
        {% empty %}
        <p>ÊäïÁ®ø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>
        {% endfor %}
    </div>
</div>
{% endblock %}