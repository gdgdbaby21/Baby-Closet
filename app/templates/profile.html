{% extends 'base.html' %}

{% block content %}
<div class="profile-container" style="margin-top: 80px;"> 
    <style>
        /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        .profile-image img {
            width: 100px; /* å¹…ã‚’å°ã•ãè¨­å®š */
            height: 100px; /* é«˜ã•ã‚’å°ã•ãè¨­å®š */
            border-radius: 50%; /* å††å½¢ã‚’ç¶­æŒ */
            object-fit: cover; /* ç”»åƒã‚’æ å†…ã«åã‚ã‚‹ */
        }

        /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        .profile-details {
            margin-top: 20px;
        }

        .profile-details p {
            margin: 5px 0;
        }

        /* æŠ•ç¨¿ãƒªã‚¹ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        .post-list {
            display: flex;
            flex-wrap: wrap; /* æ¨ªä¸¦ã³ã§æŠ˜ã‚Šè¿”ã— */
            gap: 20px; /* ã‚¢ã‚¤ãƒ†ãƒ é–“ã®ä½™ç™½ */
            justify-content: flex-start; /* å·¦æƒãˆ */
        }

        /* å„æŠ•ç¨¿ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        .post-item {
            width: 300px; /* å¹…ã‚’å›ºå®š */
            height: 400px; /* é«˜ã•ã‚’çµ±ä¸€ */
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column; /* å­è¦ç´ ã‚’ç¸¦ã«ä¸¦ã¹ã‚‹ */
            justify-content: space-between; /* å­è¦ç´ é–“ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’èª¿æ•´ */
            text-align: center; /* ä¸­å¤®æƒãˆ */
        }

        /* æŠ•ç¨¿ç”»åƒã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        .image-wrapper {
            text-align: center; /* ç”»åƒã‚’ä¸­å¤®æƒãˆ */
        }

        .image-wrapper img {
            max-width: 100%;
            height: auto;
            max-height: 200px; /* ç”»åƒã®é«˜ã•ã‚’åˆ¶é™ */
            object-fit: cover; /* ç”»åƒã‚’æ å†…ã«åã‚ã‚‹ */
            border-radius: 8px;
        }

        /* ãƒ†ã‚­ã‚¹ãƒˆã®çœç•¥è¡¨ç¤ºè¨­å®š */
        .post-meta, .post-caption {
            overflow: hidden; /* ãƒ†ã‚­ã‚¹ãƒˆãŒã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«è¨­å®š */
            text-overflow: ellipsis; /* é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’çœç•¥ */
            white-space: nowrap; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’1è¡Œã«åã‚ã‚‹ */
        }
    </style>

    
    {% load static %}
    <p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»åƒãƒ†ã‚¹ãƒˆ: {{ user_profile.profile_image }}</p> <!-- ãƒ‡ãƒãƒƒã‚°ç”¨ -->
    <div class="profile-image">
        {% if user_profile.profile_image %}
        <img src="{{ user_profile.profile_image.url }}" alt="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ">
        {% else %}
        <img src="{% static 'images/default-profile.png' %}" alt="ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»åƒ">
        {% endif %}
    </div>
    

    <div class="profile-details">
        <p>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: {{ user_profile.account_name }}</p>
        <p>æ€§åˆ¥: {{ user_profile.get_gender_display }}</p>
        <p>ç”Ÿå¹´æœˆæ—¥: {{ user_profile.birth_of_date }}</p>
        <p>è‡ªå·±ç´¹ä»‹: {{ user_profile.bio }}</p>
    </div>

    <p><a href="{% url 'edit_profile' %}">ç·¨é›†</a></p>

    <!-- ãƒã‚¤ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆä¸€è¦§ -->
    <h2>ãƒã‚¤ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆä¸€è¦§</h2>
    <div class="post-list">
        {% for post in user_posts %}
        <div class="post-item">
            <!-- æŠ•ç¨¿ç”»åƒ -->
            <div class="image-wrapper">
                {% if post.image %}
                    <a href="{% url 'post_detail' post.id %}">
                        <img src="{{ post.image.url }}" alt="{{ post.title }}">
                    </a>
                {% else %}
                    <p>No image available</p>
                {% endif %}
            </div>
            <!-- æŠ•ç¨¿ã‚¿ã‚¤ãƒˆãƒ« -->
            <h3>{{ post.title }}</h3>
            <!-- ã„ã„ã­æ•°ã¨ã‚³ãƒ¡ãƒ³ãƒˆæ•° -->
            <div class="post-meta">
                <span>â™¥ {{ post.likes_count }}</span>
                <span>ğŸ’¬ {{ post.comments_count }}</span>
            </div>
        </div>
        {% empty %}
        <p>æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {% endfor %}
    </div>
</div>
{% endblock %}